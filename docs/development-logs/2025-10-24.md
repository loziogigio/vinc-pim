# 2025-10-24

## Summary
- Fixed shadow hover effect on BannerCard/Media components - removed inline box-shadow blocking and added two-layer structure to prevent overflow clipping
- Added noPadding prop to BannerCard for full-width hero carousels
- Implemented section titles (h2) for Media Image and Media Carousel blocks matching Product Carousel pattern
- Added comprehensive style customization for Media components (border, radius, padding, background, custom CSS)
- Synced shadow hover fixes to both customer_web and vinc-storefront repositories

## Detail Log

### **BannerCard Shadow Hover Fix (customer_web & vinc-storefront)**
- **Problem**: Shadow hover effect wasn't visible due to:
  1. Inline `box-shadow: none` having higher specificity than CSS class hover rules
  2. Parent container with `overflow: hidden` clipping the shadow

- **Solution**:
  - Modified `computeMediaCardStyle` to omit `boxShadow` property when `shadowSize === 'none'` instead of setting it to `'none'`, allowing hover CSS classes to work (customer_web/src/lib/home-settings/media-card-style.ts:49-68, vinc-storefront/src/lib/home-settings/style-utils.ts:32-51)
  - Implemented two-layer wrapper structure: outer div receives hover shadow without overflow clipping, inner div handles `overflow: hidden` for image/shine effects (customer_web/src/components/cards/banner-card.tsx:223-294)
  - Dynamic hover behavior: when `hoverEffect: 'shadow'`, applies configurable shadow and removes border using `!important` to override inline styles from API (customer_web/src/components/cards/banner-card.tsx:184-206)
  - Added padding (`p-2.5`) to outer wrapper to prevent shadow clipping (customer_web/src/components/cards/banner-card.tsx:293)
  - Converted many inline styles to Tailwind classes for consistency (borderRadius, overflow, etc.)

- **Shadow configuration**: Defaults to `3px 4px 8px 0px rgba(0, 0, 0, 0.25)` or uses configured `hoverShadowSize` (sm/md/lg/xl/2xl from Tailwind shadow map)

- **Commits**:
  - customer_web: `9b05ad0`, `101ffcd`, `fe031fb`
  - vinc-storefront: `705948d`

### **BannerCard Full-Width Support (customer_web)**
- Added `noPadding` prop to BannerCard to remove `p-2.5` when needed for hero carousels where images should fill full width (customer_web/src/components/cards/banner-card.tsx:18, 135, 293)
- Updated `BannerAllCarousel` to pass `noPadding={forceFullHeight}` - when used in hero layouts, padding is removed automatically (customer_web/src/components/common/banner-all-carousel.tsx:77)
- **Use case**: Hero carousels need full-width images, brand logo carousels need padding for shadow visibility

- **Commits**: `101ffcd`, `fe031fb`

### **Media Components Section Titles (customer_web)**
- Added section title support (h2 heading) to Media Image Block and Media Carousel, matching Product Carousel's pattern
- **MediaImageBlock**:
  - Added `title?: string` to config interface (customer_web/src/components/blocks/MediaImageBlock.tsx:8)
  - Added `lang?: string` to props (defaults to 'it')
  - When title is provided, renders `<SectionHeader>` above image with consistent spacing (`mb-5 md:mb-6`)

- **BannerAllCarousel** (Media Carousel):
  - Added `title?: string` prop (customer_web/src/components/common/banner-all-carousel.tsx:67)
  - Renders `<SectionHeader>` above carousel when title is provided

- Uses shared `SectionHeader` component for consistent h2 styling across Product and Media carousels
- **Reverted** initial implementation that added individual titles per image - section titles are for the entire block, not per item

- **Commits**: `c5ee2d5` (after reverting `4f4ef49` and `3413bac`)

### **Media Components Style Customization (customer_web)**
- Added comprehensive style customization interfaces for both Media components
- **MediaImageBlock** (`MediaImageStyle` interface):
  ```typescript
  borderWidth?: number;          // Border thickness in pixels
  borderColor?: string;          // Hex/rgb/rgba
  borderStyle?: "solid" | "dashed" | "dotted" | "none";
  borderRadius?: "none" | "sm" | "md" | "lg" | "xl" | "2xl" | "full";
  paddingX?: number;             // Horizontal padding in px
  paddingY?: number;             // Vertical padding in px
  backgroundColor?: string;       // Any CSS color
  customCSS?: string;            // Expert mode: inject custom CSS
  ```

- **BannerAllCarousel** (`MediaCarouselStyle` interface): Same properties as MediaImageStyle
- Styles apply to container wrapper, with sensible defaults (no border, lg radius for images, transparent background)
- `customCSS` field allows experts to inject `<style>` tags for advanced customization
- Border radius mapped to Tailwind values for consistency (customer_web/src/components/blocks/MediaImageBlock.tsx:33-41, customer_web/src/components/common/banner-all-carousel.tsx:20-28)

- **Commits**: `a28616f`

## File Changes
- `customer_web/src/components/cards/banner-card.tsx`: Shadow hover fix, two-layer structure, noPadding prop, Tailwind conversion
- `customer_web/src/lib/home-settings/media-card-style.ts`: New file - shared media card styling utilities
- `customer_web/src/components/blocks/MediaImageBlock.tsx`: Section title, style customization
- `customer_web/src/components/common/banner-all-carousel.tsx`: Section title, style customization, noPadding support
- `vinc-storefront/src/lib/home-settings/style-utils.ts`: Shadow hover fix (omit box-shadow when none)
- `vinc-storefront/src/lib/types/home-settings.ts`: Added MediaCardStyle type alias

## Testing Notes
- Shadow hover effects tested manually - confirmed visibility on brand logo carousels
- Full-width images in hero carousels confirmed working with `noPadding` prop
- Section titles display correctly when configured, hidden when not
- Style customization ready for home builder UI integration

## Next Steps
- Update home builder UI to expose new Media component style options (border, padding, background, custom CSS fields)
- Add style preview in builder for real-time feedback
- Consider adding hover effect options (lift/scale/glow) to Media components similar to Product cards
- Document Media component configuration in user guide
